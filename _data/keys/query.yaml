---
- key: pg.query.discovery
  description: >
    Execute a custom SQL query and return a discovery instance for each
    returned row, with columns mapped to discovery macros.
  parameters:
    - parameter: query
      description: The dataset SQL query to execute
    - parameter: n...
      description: query parameters
  example: pg.query.discovery[,,SELECT * from pg_database;]

- key: pg.query.string
  description: >
    Execute a custom SQL query and return the value of the first column of the
    first row as a string of text.
  type: Text
  parameters:
    - parameter: query
      description: The scalar SQL query to execute
    - parameter: n...
      description: query parameters
  example: pg.query.string[,,"SELECT $1::text \|\| $2::text;",hello,world]

- key: pg.query.integer
  description: > 
    Execute a custom SQL query and return the value of the first column of the
    first row as an unsigned integer.
  type: Numeric (unsigned)
  parameters:
    - parameter: query
      description: The scalar SQL query to execute
    - parameter: n...
      description: query parameters
  example: pg.query.integer[,,"SELECT $1::int;",1234]

- key: pg.query.double
  description: >
    Execute a custom SQL query and return the value of the first column of the
    first row as a double precision floating point integer.
  type: Numeric (float)
  parameters:
    - parameter: query
      description: The scalar SQL query to execute
    - parameter: n...
      description: query parameters
  example: pg.query.double[,,"SELECT $1::decimal;",12.34]
